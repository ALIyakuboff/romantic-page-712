<!DOCTYPE html>
<html lang="uz">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>712 - Senga Atalgan</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Pacifico&family=Playfair+Display:wght@700&display=swap');

        body,
        html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 99%, #fecfef 100%);
            font-family: 'Dancing Script', cursive;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        #confetti-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 10;
        }

        .main-title {
            font-family: 'Playfair Display', serif;
            font-size: 5rem;
            color: #d63384;
            margin-top: 20px;
            margin-bottom: 10px;
            text-shadow: 2px 2px 10px rgba(255, 105, 180, 0.5);
            z-index: 20;
            animation: fadeInDown 1.5s ease-out;
        }

        .card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(15px);
            padding: 2.5rem;
            border-radius: 25px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
            text-align: center;
            max-width: 90%;
            width: 450px;
            z-index: 20;
            border: 3px solid rgba(255, 255, 255, 0.6);
            transition: all 0.5s ease;
            position: relative;
            margin-top: 10px;
        }

        h1.card-title {
            color: #d63384;
            font-size: 2.8rem;
            margin-bottom: 1rem;
            margin-top: 0;
        }

        p.message {
            color: #444;
            font-size: 1.8rem;
            line-height: 1.4;
            margin-bottom: 2.5rem;
            min-height: 100px;
            /* Prevent jumping */
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .video-wrapper {
            width: 100%;
            max-width: 800px;
            /* Made bigger */
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
            margin-bottom: 1.5rem;
        }

        /* Ensure video content takes more space when visible */
        #video-content {
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        video {
            width: 100%;
            height: auto;
            max-height: 70vh;
            /* Limit height to fit screen */
            display: block;
            object-fit: contain;
        }

        .buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        button {
            border: none;
            padding: 12px 30px;
            font-size: 1.2rem;
            border-radius: 50px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            font-family: 'Pacifico', cursive;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .btn-next {
            background-color: #ff4081;
            color: white;
            box-shadow: 0 4px 15px rgba(255, 64, 129, 0.4);
        }

        .btn-video {
            background-color: #673ab7;
            color: white;
            box-shadow: 0 4px 15px rgba(103, 58, 183, 0.4);
        }

        button:hover {
            transform: scale(1.05) translateY(-3px);
            filter: brightness(1.1);
        }

        button:active {
            transform: scale(0.95);
        }

        /* Utility classes */
        .hidden {
            display: none !important;
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes float {
            0% {
                transform: translateY(0px);
            }

            50% {
                transform: translateY(-15px);
            }

            100% {
                transform: translateY(0px);
            }
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }
    </style>
</head>

<body>
    <canvas id="confetti-canvas"></canvas>

    <h1 class="main-title">712</h1>

    <div class="card">
        <div id="text-content">
            <h1 class="card-title">Azizim...</h1>
            <p class="message" id="message">Sen mening hayotimga kirib kelgan eng go'zal mo'jizasan!</p>

            <div class="buttons">
                <button class="btn-next" onclick="nextMessage()">Keyingisi ‚ú®</button>
                <button class="btn-video" onclick="showVideo()">Videoni ko'rish üé¨</button>
            </div>
        </div>

        <div id="video-content" class="hidden">
            <div class="video-wrapper">
                <video id="loveVideo" playsinline controls>
                    <source src="Img 3409.mp4" type="video/mp4">
                    Video formatini o'qib bo'lmadi.
                </video>
            </div>
            <button class="btn-next" onclick="showText()">Orqaga qaytish ‚Ü©Ô∏è</button>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <script>
        const messages = [
            "Har kuning bayram bo'lsin!",
            "Seni judayam yaxshi ko'raman!",
            "Sen bilan har onim go'zal!",
            "Tabassuming olamni yoritadi!",
            "Sen mening baxtimsan!",
            "Hayotim mazmuni o'zingsan!",
            "Yulduzlar senga havas qiladi!",
            "Dunyodagi eng go'zal inson o'zingsan!"
        ];

        const messageElement = document.getElementById('message');
        const textContent = document.getElementById('text-content');
        const videoContent = document.getElementById('video-content');
        const video = document.getElementById('loveVideo');

        // Initial confetti
        function launchConfetti() {
            var duration = 3 * 1000;
            var animationEnd = Date.now() + duration;
            var defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 0 };

            var random = function (min, max) {
                return Math.random() * (max - min) + min;
            }

            var interval = setInterval(function () {
                var timeLeft = animationEnd - Date.now();

                if (timeLeft <= 0) {
                    return clearInterval(interval);
                }

                var particleCount = 50 * (timeLeft / duration);
                confetti(Object.assign({}, defaults, { particleCount, origin: { x: random(0.1, 0.3), y: Math.random() - 0.2 } }));
                confetti(Object.assign({}, defaults, { particleCount, origin: { x: random(0.7, 0.9), y: Math.random() - 0.2 } }));
            }, 250);
        }

        window.onload = function () {
            launchConfetti();
        };

        function nextMessage() {
            // Premium Burst
            var count = 200;
            var defaults = {
                origin: { y: 0.7 }
            };

            function fire(particleRatio, opts) {
                confetti(Object.assign({}, defaults, opts, {
                    particleCount: Math.floor(count * particleRatio)
                }));
            }

            fire(0.25, { spread: 26, startVelocity: 55, });
            fire(0.2, { spread: 60, });
            fire(0.35, { spread: 100, decay: 0.91, scalar: 0.8 });
            fire(0.1, { spread: 120, startVelocity: 25, decay: 0.92, scalar: 1.2 });
            fire(0.1, { spread: 120, startVelocity: 45, });

            // Change Message
            const randomIndex = Math.floor(Math.random() * messages.length);
            messageElement.style.opacity = 0;
            setTimeout(() => {
                messageElement.innerText = messages[randomIndex];
                messageElement.style.opacity = 1;
                messageElement.classList.remove('fade-in');
                void messageElement.offsetWidth; // trigger reflow
                messageElement.classList.add('fade-in');
            }, 200);
        }

        function showVideo() {
            textContent.classList.add('hidden');
            videoContent.classList.remove('hidden');
            videoContent.classList.add('fade-in');

            // Play video with sound
            video.muted = false;
            video.currentTime = 0;
            video.play().catch(e => console.log("Autoplay prevented:", e));
        }

        function showText() {
            video.pause();
            videoContent.classList.add('hidden');
            textContent.classList.remove('hidden');
            textContent.classList.add('fade-in');
        }

    </script>
</body>

</html>